<ComputerName>$Target/Property[Type="Windows!Microsoft.Windows.Computer"]/PrincipalName$</ComputerName>
  <RegistryAttributeDefinitions>
    <RegistryAttributeDefinition>
      <AttributeName>ServiceNameExists</AttributeName>
      <Path>SOFTWARE\SERVICE\ServiceName\ServiceName</Path>
      <PathType>1</PathType>
      <AttributeType>0</AttributeType>
    </RegistryAttributeDefinition>
    <RegistryAttributeDefinition>
      <AttributeName>ServiceName</AttributeName>
      <Path>SOFTWARE\SERVICE\ServiceName\ServiceName</Path>
      <PathType>1</PathType>
      <AttributeType>1</AttributeType>
    </RegistryAttributeDefinition>
  </RegistryAttributeDefinitions>
  <Frequency>60</Frequency>
  <ClassId>$MPElement[Name="Krithika.Service"]$</ClassId>
  <InstanceSettings>
    <Settings>
      <Setting>
        <Name>$MPElement[Name="Windows!Microsoft.Windows.Computer"]/PrincipalName$</Name>
        <Value>$Target/Property[Type="Windows!Microsoft.Windows.Computer"]/PrincipalName$</Value>
      </Setting>
      <Setting>
        <Name>$MPElement[Name="System!System.Entity"]/DisplayName$</Name>
        <Value>$Target/Property[Type="Windows!Microsoft.Windows.Computer"]/PrincipalName$</Value>
      </Setting>
      <Setting>
        <Name>$MPElement[Name="Krithika.Service"]/ServiceName$</Name>
        <Value>$Data/Values/ServiceName$</Value>
      </Setting>
    </Settings>
  </InstanceSettings>
  <Expression>
    <SimpleExpression>
      <ValueExpression>
        <XPathQuery>Values/ServiceNameExists</XPathQuery>
      </ValueExpression>
      <Operator>Equal</Operator>
      <ValueExpression>
        <Value>true</Value>
      </ValueExpression>
    </SimpleExpression>
  </Expression>